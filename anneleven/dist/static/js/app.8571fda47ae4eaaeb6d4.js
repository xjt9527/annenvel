webpackJsonp([1],{"7Otq":function(t,e){t.exports="data:image/png;base64,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"},AETI:function(t,e){},J482:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("j1ja");var s=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var l=a("VU/8")({name:"App"},o,!1,function(t){a("goEK")},null,null).exports,i=a("/ocq"),r=a("Zrlr"),n=a.n(r),d=a("wxAW"),c=a.n(d),u=a("mtWM"),p=a.n(u),m="http://manager-api.anneleven.cn",v=function(){function t(e){n()(this,t),this.vue=e}return c()(t,[{key:"headers",value:function(){return{headers:{accesstoken:localStorage.getItem("token")||""}}}},{key:"relogin",value:function(){localStorage.clear(),setTimeout(function(){location.reload()},1e3)}},{key:"GET",value:function(t){var e=this,a=t.url,s=t.params,o=void 0===s?{}:s,l=t.cb;p.a.get(m+a,o,this.headers()).then(function(t){var a=t.data;if(a.head.code)return e.vue.$message.error(a.head.msg),10401===a.head.code?void e.relogin():void 0;l(a.body)}).catch(function(t){e.vue.$message.error(t)})}},{key:"POST",value:function(t){var e=this,a=t.url,s=t.params,o=void 0===s?{}:s,l=t.cb,i=t.type;p.a.post(m+a,o,this.headers()).then(function(t){if("file"!==i){var a=t.data;if(a.head.code)return e.vue.$message.error(a.head.msg),10401===a.head.code?void e.relogin():void 0;l(a.body)}else console.log(t)}).catch(function(t){e.vue.$message.error(t)})}}]),t}(),h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lists"},t._l(t.list,function(e,s){return a("div",{key:s},[e.children&&e.children.length?a("div",[a("el-submenu",{attrs:{index:e.menuUrl}},[a("template",{slot:"title"},[a("router-link",{attrs:{to:e.menuUrl}},[t._v(t._s(e.menuName))])],1),t._v(" "),a("NavList",{attrs:{list:e.children,sub:!0,theId:String(s)+"-"}})],2)],1):a("div",[a("el-menu-item",{attrs:{index:e.menuUrl}},[a("router-link",{attrs:{to:e.menuUrl}},[t._v(t._s(e.menuName))])],1)],1)])}),0)},staticRenderFns:[]},f={name:"IndexPage",components:{NavList:a("VU/8")({name:"NavList",props:["list","sub","theId"],data:function(){return{}},methods:{}},h,!1,null,null,null).exports},data:function(){return{msg:"",usename:"",navListData:[],pageUrl:this.$route.path,pageTitle:this.$route.meta.title}},updated:function(){this.pageTitle=this.$route.meta.title,this.pageUrl=this.$route.path},methods:{loginout:function(){new v(this).POST({url:"/user/logout",cb:function(){localStorage.clear(),location.reload()}})}},created:function(){var t=this;this.usename=localStorage.shopName||"",new v(this).POST({url:"/menu/findMenuList",cb:function(e){t.navListData=e}})}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"indexPage"},[a("div",{staticClass:"header"},[a("div",{staticClass:"wrap"},[t._m(0),t._v(" "),a("div",{staticClass:"user"},[t._v("\n                欢迎,\n                "),a("span",[t._v(t._s(t.usename))]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:t.loginout}},[t._v("退出")])])])]),t._v(" "),a("div",{staticClass:"head-nav"},[a("div",{staticClass:"wrap"},[a("h2",{staticClass:"page-title"},[t._v(t._s(t.pageTitle))]),t._v(" "),a("div",{staticClass:"nav"},[a("el-menu",{attrs:{"default-active":t.pageUrl,mode:"horizontal"}},[a("NavList",{attrs:{list:t.navListData}})],1)],1)])]),t._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"scene"},[a("router-view")],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:a("7Otq"),alt:""}}),this._v(" "),e("h2",[this._v("管理系统")])])}]};var b=a("VU/8")(f,g,!1,function(t){a("AETI")},null,null).exports,y={name:"Login",data:function(){return{password:"",username:""}},methods:{toLogin:function(){var t=this;this.username&&this.password?new v(this).POST({url:"/user/loginByUsername",params:{password:this.password,username:this.username},cb:function(e){localStorage.setItem("shopName",e.shopName),localStorage.setItem("token",e.accesstoken),localStorage.setItem("isAdmin",e.isAdmin),t.$router.push({name:"OrderList"})}}):this.$message.error("用户名和密码必须填写完整哦")}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login-page"}},[t._m(0),t._v(" "),a("div",{staticClass:"login-main"},[a("div",{staticClass:"inputs"},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),a("el-input",{attrs:{placeholder:"请输入密码","show-password":""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toLogin(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),a("div",{staticClass:"com-btn",on:{click:t.toLogin}},[t._v("立即登录")])],1)]),t._v(" "),a("div",{staticClass:"copy-right"},[t._v("© Copyright 2019")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:a("7Otq"),alt:""}})]),this._v(" "),e("h2",[this._v("后台管理系统")]),this._v(" "),e("small",[this._v("\n            LOGIN IN\n            "),e("i",{staticClass:"el-icon-caret-right"})])])}]};var w=a("VU/8")(y,_,!1,function(t){a("J482")},"data-v-2e8f19b4",null).exports,k=a("mvHQ"),S=a.n(k),I=(a("MJLE"),{name:"OrderList",data:function(){return{timepick:[],curTab:"first",phoneNumber:"",shopName:"",orderNumber:"",showPop:!1,showPop2:!1,orderImgSrc:"",orderStatus:"",totalPage:0,cgOrderSt:null,editOrderId:null,editIndex:0,isAdmin:!0,showcfpop:!1,showtzpop:!1,tabD:!1,orderStatusData:{0:"未确认",1:"已确认",2:"已打印",3:"已通知",4:"已取消"},orderStatusItem:[{value:0,label:"未确认"},{value:1,label:"已确认"},{value:2,label:"已打印"},{value:3,label:"已通知"},{value:4,label:"已取消"}],pageNum:1,tableData:[],table2Data:[],piaohtml:null}},watch:{},methods:{timeCut:function(t){if(!1===/年|月|日/.test(t))return t;var e=t.replace(/\s/g,"");return e=(e=e.replace(/年|月/g,"-")).replace(/日/g," ")},showImg:function(t){this.orderImgSrc=t,this.showPop=!0},findOrder:function(t){var e=this;isNaN(t)?this.pageNum=1:this.pageNum=t,this.tabD=!1;var a={},s="/order/findOrderList";if("id"===t){if(!this.orderNumber)return void this.$message.error("请输入订单号");this.tabD=!0,a={},s="/order/getOrderById?orderId="+this.orderNumber}if("time"===t||!isNaN(t)){if(!this.timepick.length)return;a={count:!0,startTime:this.timeCut(this.timepick[0]),endTime:this.timeCut(this.timepick[1]),pageNum:this.pageNum,pageSize:10,phoneNumber:this.phoneNumber,shopName:this.shopName,status:this.orderStatus}}new v(this).POST({url:s,params:a,cb:function(t){if(!t)return e.tableData=[],!1;if(t.orderId)e.table2Data=[t];else{var a=t.pages,s=t.result;t.total;e.tableData=s,e.totalPage=a}}})},exportData:function(){var t=this.$refs.myform;t.setAttribute("action","http://manager-api-dev.anneleven.cn/order/exportOrderList?accesstoken="+localStorage.getItem("token")),t.startTime.value=this.timeCut(this.timepick[0]),t.endTime.value=this.timeCut(this.timepick[1]),t.phoneNumber.value=this.phoneNumber,t.shopName.value=this.shopName,t.status.value=this.orderStatus||"",t.submit()},editStatus:function(t){var e=t.row;if(this.editIndex=t.$index,this.editOrderId=e.orderId,this.tabD)return window.runCMD(e),void([0,4].indexOf(e.status)<0&&(this.showtzpop=!0));var a={orderId:e.orderId,buyer:e.buyer,phoneNumber:e.phoneNumber,skuCode:e.skuCode,size:e.size};window.open("http://c-pub-ann.anneleven.cn/static/print.html?data="+encodeURIComponent(S()(a)))},changeStatus:function(t,e,a){var s=a.$index;this.tocfOrder(e,t.orderId,s)},tocfOrder:function(t,e,a){var s=this;this.showcfpop=!1,this.showtzpop=!1,new v(this).POST({url:"/order/updateStatus",params:{orderId:e||this.editOrderId,status:t},cb:function(e){if(null===e)if(s.tabD)s.table2Data[0].status=t;else{var o=void 0!==a?a:s.editIndex;s.tableData[o].status=t}}})},changeTab:function(t){console.log(t)},downloadImg:function(){var t=this.table2Data[0].customizedDesignUrl,e=document.createElement("a");e.href=t,e.target="_blank",e.download="pic",e.click()}},created:function(){var t=new Date;t=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),this.timepick=[t+" 00:00:00",t+" 23:59:59"],this.isAdmin="true"===localStorage.getItem("isAdmin"),this.isAdmin||(this.shopName=localStorage.getItem("shopName"))}}),C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-list"},[a("el-tabs",{staticClass:"page-filter-tab",attrs:{type:"border-card"},on:{"tab-click":t.changeTab},model:{value:t.curTab,callback:function(e){t.curTab=e},expression:"curTab"}},[a("el-tab-pane",{attrs:{label:"按条件筛选",name:"first"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"-","start-placeholder":"订单开始日期","end-placeholder":"订单结束日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.timepick,callback:function(e){t.timepick=e},expression:"timepick"}}),t._v(" "),a("br"),t._v(" "),t.isAdmin?a("el-input",{staticStyle:{display:"inline-block",width:"auto"},attrs:{placeholder:"店名"},model:{value:t.shopName,callback:function(e){t.shopName=e},expression:"shopName"}}):a("el-input",{staticStyle:{display:"inline-block",width:"auto"},attrs:{placeholder:"店名",disabled:""},model:{value:t.shopName,callback:function(e){t.shopName=e},expression:"shopName"}}),t._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"auto"},attrs:{placeholder:"买家手机号"},model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}}),t._v(" "),a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"订单状态"},model:{value:t.orderStatus,callback:function(e){t.orderStatus=e},expression:"orderStatus"}},[a("el-option",{attrs:{label:"全部订单",value:""}}),t._v(" "),t._l(t.orderStatusItem,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})],2),t._v(" "),a("br"),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findOrder("time")}}},[t._v("查询")]),t._v(" "),t.tableData.length?a("el-button",{attrs:{type:"success"},on:{click:t.exportData}},[t._v("导出")]):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"按订单号筛选",name:"secend"}},[a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{placeholder:"订单号"},model:{value:t.orderNumber,callback:function(e){t.orderNumber=e},expression:"orderNumber"}}),t._v(" "),a("br"),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findOrder("id")}}},[t._v("查询")]),t._v(" "),t.table2Data.length?a("el-button",{attrs:{type:"success"},on:{click:t.downloadImg}},[t._v("下载图片")]):t._e()],1)],1),t._v(" "),a("div"),t._v(" "),"first"===t.curTab?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"orderId",label:"订单号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phoneNumber",label:"买家手机号",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品详情",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.spuName)+" x"+t._s(e.row.count))]),t._v(" "),a("p",[t._v(t._s(e.row.size)+"码 / "+t._s(e.row.position)+" / "+t._s(e.row.colorName))])]}}],null,!1,2723724400)}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"地址",align:"center",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"订单状态",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{effect:"plain",type:"primary"}},[t._v(t._s(t.orderStatusData[e.row.status]))])]}}],null,!1,1037911207)}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"280",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(a){return t.showImg(e.row.previewImageUrl)}}},[t._v("预览")]),t._v(" "),0!==e.row.status&&4!==e.row.status?a("el-button",{attrs:{size:"small",type:"warning",plain:""},on:{click:function(a){return t.editStatus(e)}}},[t._v("打印小票")]):0===e.row.status?[a("el-button",{attrs:{size:"small",type:"success",plain:""},on:{click:function(a){return t.changeStatus(e.row,1,e)}}},[t._v("确认")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"info",plain:""},on:{click:function(a){return t.changeStatus(e.row,4,e)}}},[t._v("取消")])]:t._e(),t._v(" "),2===e.row.status?a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(a){return t.tocfOrder(3,e.row.orderId,e.$index)}}},[t._v("通知用户")]):t._e()]}}],null,!1,3536733322)})],1):t._e(),t._v(" "),"secend"===t.curTab?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table2Data,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"orderId",label:"订单号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phoneNumber",label:"买家手机号",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品详情",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.spuName)+" x"+t._s(e.row.count))]),t._v(" "),a("p",[t._v(t._s(e.row.size)+"码 / "+t._s(e.row.position)+" / "+t._s(e.row.colorName))])]}}],null,!1,2723724400)}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",width:"180",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"订单状态",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{effect:"plain",type:"primary"}},[t._v(t._s(t.orderStatusData[e.row.status]))])]}}],null,!1,1037911207)}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"270",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(a){return t.showImg(e.row.previewImageUrl)}}},[t._v("预览")]),t._v(" "),0!==e.row.status&&4!==e.row.status?a("el-button",{attrs:{size:"small",type:"warning",plain:""},on:{click:function(a){return t.editStatus(e)}}},[t._v("打印")]):t._e(),t._v(" "),0===e.row.status?a("el-button",{attrs:{size:"small",type:"info",plain:""}},[t._v("未确认")]):t._e(),t._v(" "),2===e.row.status?a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(a){return t.tocfOrder(3,e.row.orderId,e.$index)}}},[t._v("通知用户")]):t._e()]}}],null,!1,740763867)})],1):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData.length&&"first"===t.curTab,expression:"tableData.length && curTab === 'first'"}],staticClass:"site-page"},[a("el-pagination",{attrs:{background:"","page-count":t.totalPage,"current-page":t.pageNum,layout:"prev, pager, next"},on:{"current-change":t.findOrder}})],1),t._v(" "),a("el-dialog",{attrs:{title:"预览",visible:t.showPop},on:{"update:visible":function(e){t.showPop=e}}},[a("div",{staticClass:"imgPrivew"},[a("img",{attrs:{src:this.orderImgSrc+"?x-oss-process=image/resize,w_800"}})])]),t._v(" "),a("el-dialog",{attrs:{title:"确认订单",visible:t.showcfpop,width:"400px"},on:{"update:visible":function(e){t.showcfpop=e}}},[a("p",{staticStyle:{"text-align":"center","font-size":"16px"}},[t._v("小票打印完成后，请确认已打印")]),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showcfpop=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.tocfOrder(2)}}},[t._v("已打印")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"确认打印",visible:t.showtzpop,width:"400px"},on:{"update:visible":function(e){t.showtzpop=e}}},[a("p",{staticStyle:{"text-align":"center","font-size":"16px"}},[t._v("是否已打印完衣服")]),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showtzpop=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.tocfOrder(2)}}},[t._v("确认")])],1)]),t._v(" "),a("form",{ref:"myform",staticStyle:{display:"none"},attrs:{method:"post"}},[a("input",{staticClass:"mf-st",attrs:{type:"text",name:"startTime"}}),t._v(" "),a("input",{staticClass:"mf-et",attrs:{type:"text",name:"endTime"}}),t._v(" "),a("input",{staticClass:"mf-pn",attrs:{type:"text",name:"phoneNumber"}}),t._v(" "),a("input",{staticClass:"mf-sn",attrs:{type:"text",name:"shopName"}}),t._v(" "),a("input",{staticClass:"mf-zt",attrs:{type:"text",name:"status"}})])],1)},staticRenderFns:[]};var x=a("VU/8")(I,C,!1,function(t){a("U4yG")},"data-v-9c701b9c",null).exports,N=a("woOf"),F=a.n(N),D={name:"OrderList",data:function(){return{addCity:[],citylist:[],options:[],pageNum:1,tableData:[],totalPage:0,showDlg:!1,showDetail:!1,showPsw:!1,actionType:0,roleData:[{label:"管理员",value:"2"},{label:"加盟商",value:"3"}],statusData:[{label:"启用",value:1},{label:"禁用",value:0}],originForm:{shopName:"",detailAddress:"",roleId:"3",username:"",status:1,password:"",phoneNumber:""},form:{},pswInfo:{userId:0,userName:"",password:""},editShopName:"",editUserName:"",editPhoneNumber:""}},computed:{provinceCode:function(){return this.citylist[0]||""},cityCode:function(){return this.citylist[1]||""},areaCode:function(){return this.citylist[2]||""},addprovinceCode:function(){return this.addCity[0]||""},addcityCode:function(){return this.addCity[1]||""},addareaCode:function(){return this.addCity[2]||""}},methods:{showAddPop:function(t){this.form=F()({},this.originForm),this.actionType=t,this.showDlg=!0,this.citylist=[]},findShop:function(t){var e=this;if(isNaN(t)||(this.pageNum=t),"search"===t){if(!this.addCity.length)return;this.pageNum=1}var a={};a="search"===t?{areaCode:this.addareaCode,cityCode:this.addcityCode,count:!0,pageNum:this.pageNum,pageSize:10,provinceCode:this.addprovinceCode}:{areaCode:this.areaCode,cityCode:this.cityCode,count:!0,pageNum:this.pageNum,pageSize:10,provinceCode:this.provinceCode},new v(this).POST({url:"/shop/findShopList",params:a,cb:function(t){t.total;var a=t.result,s=t.pages;e.totalPage=s,e.tableData=a}})},editShop:function(t,e,a){var s=this;new v(this).POST({url:"/shop/getShopDetail",params:{shopId:t,userId:e},cb:function(t){s.actionType=a,s.citylist=[t.provinceCode,t.cityCode,t.areaCode],s.editShopName=t.shopName,s.editUserName=t.username,s.editPhoneNumber=t.phoneNumber,s.form=F()({},t),setTimeout(function(){s.showDlg=!0},200)}})},shopDetail:function(t,e){var a=this;new v(this).POST({url:"/shop/getShopDetail",params:{shopId:t,userId:e},cb:function(t){a.showDetail=!0,F()(a.form,t)}})},addShop:function(){var t=this.form,e=t.shopName,a=t.detailAddress,s=t.username,o=t.password,l=t.phoneNumber;if(1===this.actionType){if(!(e&&a&&s&&o&&l&&this.citylist.length))return void this.$message.error("请将加盟商信息填写完整~")}else if(!(e&&a&&s&&l&&this.citylist.length))return void this.$message.error("请将加盟商信息填写完整~");if(/^1[3456789]\d{9}$/.test(l)){var i=this.$refs.cityCs.presentText;i=(i=i.replace(" ","")).split("/");var r={provinceCode:this.citylist[0],cityCode:this.citylist[1],areaCode:this.citylist[2],provinceName:i[0],cityName:i[1],areaName:i[2]},n=F()({},this.form,r);n.username===this.editUserName&&delete n.username,n.shopName===this.editShopName&&delete n.shopName,n.phoneNumber===this.editPhoneNumber&&delete n.phoneNumber;var d=1===this.actionType?"/shop/addShop":"/shop/updateShop";new v(this).POST({url:d,params:n,cb:function(t){null===t&&location.reload()}})}else this.$message.error("手机号码格式有误")},showPswPop:function(t,e){this.pswInfo.userId=t,this.pswInfo.userName=e,this.showPsw=!0},updatePsw:function(){var t=this;this.pswInfo.password?new v(this).POST({url:"/user/updatePassword",params:this.pswInfo,cb:function(e){null===e&&(t.$message.success("修改成功"),t.showPsw=!1)}}):this.$message.error("请输入密码~")}},created:function(){var t=this;new v(this).POST({url:"/pca/findPcaList",cb:function(e){t.options=e}}),this.findShop()}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shop-list"},[a("div",{staticClass:"page-filter"},[a("el-cascader",{staticStyle:{width:"300px"},attrs:{options:t.options,props:{value:"code",label:"name"},placeholder:"选择地区筛选"},model:{value:t.addCity,callback:function(e){t.addCity=e},expression:"addCity"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.findShop("search")}}},[t._v("查询")]),t._v("  \n        "),a("el-button",{attrs:{type:"success"},on:{click:function(e){return t.showAddPop(1)}}},[a("i",{staticClass:"el-icon-plus"}),t._v("\n            新增加盟商\n        ")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"middle",border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"shopId",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phoneNumber",label:"手机号码",width:"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"shopName",label:"加盟店名",width:"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"登录账号",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"地区"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.provinceName)+" - "+t._s(e.row.cityName)+" - "+t._s(e.row.areaName))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"detailAddress",label:"详细地址"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.status?a("el-tag",{attrs:{type:"success"}},[t._v("启用")]):a("el-tag",{attrs:{type:"danger"}},[t._v("禁用")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"320",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.showPswPop(e.row.userId,e.row.username)}}},[t._v("修改密码")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.shopDetail(e.row.shopId,e.row.userId)}}},[t._v("查看详情")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.editShop(e.row.shopId,e.row.userId,2)}}},[t._v("商铺修改")])]}}])})],1),t._v(" "),a("div",{staticClass:"site-page"},[a("el-pagination",{attrs:{background:"","page-count":t.totalPage,"current-page":t.pageNum,layout:"prev, pager, next"},on:{"current-change":t.findShop}})],1),t._v(" "),a("el-dialog",{attrs:{title:1===t.actionType?"新增加盟商":"修改信息",visible:t.showDlg,width:"580px"},on:{"update:visible":function(e){t.showDlg=e}}},[a("el-form",{attrs:{model:t.form,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"店铺名称"}},[a("el-input",{attrs:{disabled:2===t.actionType,placeholder:"店名提交成功后不能修改"},model:{value:t.form.shopName,callback:function(e){t.$set(t.form,"shopName",e)},expression:"form.shopName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{attrs:{placeholder:"请输入正确的手机号码"},model:{value:t.form.phoneNumber,callback:function(e){t.$set(t.form,"phoneNumber",e)},expression:"form.phoneNumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"区域"}},[a("el-cascader",{ref:"cityCs",staticStyle:{width:"300px"},attrs:{options:t.options,props:{value:"code",label:"name"},placeholder:"选择地区"},model:{value:t.citylist,callback:function(e){t.citylist=e},expression:"citylist"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"详细地址"}},[a("el-input",{model:{value:t.form.detailAddress,callback:function(e){t.$set(t.form,"detailAddress",e)},expression:"form.detailAddress"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"登录账号"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1===t.actionType,expression:"actionType === 1"}],attrs:{label:"登录密码"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.statusData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),t.form.roleId?a("el-form-item",{attrs:{label:"用户权限"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.roleId,callback:function(e){t.$set(t.form,"roleId",e)},expression:"form.roleId"}},t._l(t.roleData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1):t._e()],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showDlg=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addShop}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"加盟商详情",visible:t.showDetail,width:"500px"},on:{"update:visible":function(e){t.showDetail=e}}},[a("el-form",{attrs:{model:t.form,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"店铺名称"}},[t._v(t._s(t.form.shopName))]),t._v(" "),a("el-form-item",{attrs:{label:"手机号码"}},[t._v(t._s(t.form.phoneNumber))]),t._v(" "),a("el-form-item",{attrs:{label:"区域"}},[t._v(t._s(t.form.provinceName)+" / "+t._s(t.form.cityName)+" / "+t._s(t.form.areaName))]),t._v(" "),a("el-form-item",{attrs:{label:"详细地址"}},[t._v(t._s(t.form.detailAddress))]),t._v(" "),a("el-form-item",{attrs:{label:"登录账号"}},[t._v(t._s(t.form.username)+"   |   加盟商ID "+t._s(t.form.userId))]),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[t._v(t._s(1===t.form.status?"启用":"禁用"))]),t._v(" "),a("el-form-item",{attrs:{label:"用户权限"}},[t._v(t._s(2==t.form.roleId?"管理员":"加盟商"))]),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[t._v(t._s(t.form.createTime))]),t._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[t._v(t._s(t.form.updateTime))])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改用户密码",visible:t.showPsw,width:"500px"},on:{"update:visible":function(e){t.showPsw=e}}},[a("el-form",{attrs:{model:t.pswInfo,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"加盟商ID"}},[t._v(t._s(t.pswInfo.userId))]),t._v(" "),a("el-form-item",{attrs:{label:"登录账号"}},[t._v(t._s(t.pswInfo.userName))]),t._v(" "),a("el-form-item",{attrs:{label:"登录密码"}},[a("el-input",{attrs:{placeholder:"请输入新的密码",type:"password","show-password":""},model:{value:t.pswInfo.password,callback:function(e){t.$set(t.pswInfo,"password",e)},expression:"pswInfo.password"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showPsw=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.updatePsw}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]},U=a("VU/8")(D,P,!1,null,null,null).exports,T={name:"OrderList",data:function(){return{editimgup:!1,tableData:[],showPop:!1,showPop3:!1,form:{categoryName:"",categoryImageKey:"",sort:"",status:1},ossUrl:"",ossData:{},editForm:{},editName:"",editUpload:!1}},methods:{addImgSort:function(){new v(this).POST({url:"/designCategory/addDesignCategory",params:this.form,cb:function(t){null===t&&location.reload()}})},addBtn:function(){this.showPop=!0,this.ossUrl="",this.ossData={},this.getOsspop()},getOsspop:function(){var t=this;new v(this).POST({url:"/oss/getSignature",params:{count:1,type:4},cb:function(e){t.ossUrl=e.url,t.ossData=e.signatures[0]}})},uploaded:function(t){"edit"===t&&this.editUpload?this.editForm.categoryImageKey=this.ossData.key:this.form.categoryImageKey=this.ossData.key},uploadCg:function(t){var e=t.raw.type;e=e?"."+e.split("/")[1]:"";var a=this.ossData.key.indexOf(".");-1===a?this.ossData.key+=e:(this.ossData.key=this.ossData.key.slice(0,a),this.ossData.key+=e),this.editUpload=!0},btnEdit:function(t){var e=this;this.getOsspop(),this.editUpload=!1,this.editimgup=!1,new v(this).POST({url:"/designCategory/getDesignCategoryDetail?categoryId="+t,cb:function(t){e.editForm=t,e.showPop3=!0,e.editName=t.categoryName}})},editImgSort:function(){var t=this.editForm,e=t.categoryId,a=t.categoryImageKey,s=t.categoryName,o=t.sort,l=t.status;if(s){var i={categoryId:e,categoryImageKey:a,sort:o,status:l};s!==this.editName&&(i.categoryName=s),new v(this).POST({url:"/designCategory/updateDesignCategory",params:i,cb:function(t){null===t&&location.reload()}})}else this.$message.error("请填写分类名~")}},created:function(){var t=this;new v(this).POST({url:"/designCategory/findAllDesignCategoryList",cb:function(e){t.tableData=e}})}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imgsort-list"},[a("div",{staticClass:"page-filter"},[a("el-button",{attrs:{type:"success"},on:{click:t.addBtn}},[t._v("新增分类")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"middle",border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"categoryId",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"categoryName",label:"分类名"}}),t._v(" "),a("el-table-column",{attrs:{label:"分类图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.categoryImageUrl+"?x-oss-process=image/resize,w_200",width:"120",alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.status?a("el-tag",{attrs:{type:"success"}},[t._v("启用")]):a("el-tag",{attrs:{type:"danger"}},[t._v("禁用")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(a){return t.btnEdit(e.row.categoryId)}}},[t._v("修改")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"新增分类",visible:t.showPop,width:"600px"},on:{"update:visible":function(e){t.showPop=e}}},[a("el-form",{attrs:{model:t.form,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称"}},[a("el-input",{model:{value:t.form.categoryName,callback:function(e){t.$set(t.form,"categoryName",e)},expression:"form.categoryName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分类排序"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分类图片"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:t.ossUrl,data:t.ossData,limit:1,"on-success":t.uploaded,"on-change":t.uploadCg,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("图片大小不能超过20MB")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-option",{attrs:{value:1,label:"启用"}}),t._v(" "),a("el-option",{attrs:{value:0,label:"禁用"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showPop=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addImgSort}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改图案分类",visible:t.showPop3,width:"600px"},on:{"update:visible":function(e){t.showPop3=e}}},[a("el-form",{attrs:{model:t.editForm,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称"}},[a("el-input",{model:{value:t.editForm.categoryName,callback:function(e){t.$set(t.editForm,"categoryName",e)},expression:"editForm.categoryName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分类排序"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:t.editForm.sort,callback:function(e){t.$set(t.editForm,"sort",e)},expression:"editForm.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分类图片"}},[t.editimgup?a("el-upload",{staticClass:"upload-demo",attrs:{action:t.ossUrl,data:t.ossData,limit:1,"on-success":t.uploaded("edit"),"on-change":t.uploadCg,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("图片大小不能超过20MB")])],1):a("div",[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:t.editForm.categoryImageUrl+"?x-oss-process=image/resize,w_200",width:"100"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.editimgup=!0}}},[t._v("修改图片")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editForm.status,callback:function(e){t.$set(t.editForm,"status",e)},expression:"editForm.status"}},[a("el-option",{attrs:{value:1,label:"启用"}}),t._v(" "),a("el-option",{attrs:{value:0,label:"禁用"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[t._v(t._s(t.editForm.createTime))]),t._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[t._v(t._s(t.editForm.updateTime))])],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showPop3=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editImgSort}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]},O=a("VU/8")(T,z,!1,null,null,null).exports,L={name:"OrderList",data:function(){return{tableData:[],sortData:[],categoryId:"",pageNum:1,totalPage:0,showAddPop:!1,showEditPop:!1,ossUrl:"",ossData:{},addForm:{baseColor:"",categoryId:"",designKey:"",status:1},editForm:{},editimgup:!1,editUpload:!1}},methods:{btnAdd:function(){this.showAddPop=!0,this.ossUrl="",this.ossData={},this.getOss()},btnEdit:function(t){var e=this;this.getOss(),this.editUpload=!1,this.editimgup=!1,new v(this).POST({url:"/design/getDesignDetail?designId="+t,cb:function(t){e.showEditPop=!0,e.editForm=t}})},getOss:function(){var t=this;new v(this).POST({url:"/oss/getSignature",params:{count:1,type:5},cb:function(e){t.ossUrl=e.url,t.ossData=e.signatures[0]}})},getImgList:function(t){var e=this;isNaN(t)?this.pageNum=1:this.pageNum=t,new v(this).POST({url:"/design/findDesignList",params:{categoryId:this.categoryId,count:!0,pageNum:this.pageNum,pageSize:10},cb:function(t){var a=t.pages,s=t.result;e.totalPage=a,e.tableData=s}})},addImg:function(){var t=this,e=this.addForm,a=e.baseColor,s=e.categoryId,o=e.designKey;a&&s&&o?new v(this).POST({url:"/design/addDesign",params:this.addForm,cb:function(e){null===e&&(t.categoryId="",t.getImgList(),t.showAddPop=!1)}}):this.$message.error("请将新增图案信息填写完整~")},uploaded:function(t){"edit"===t&&this.editUpload?this.editForm.designKey=this.ossData.key:this.addForm.designKey=this.ossData.key},uploadCg:function(t){var e=t.raw.type;e=e?"."+e.split("/")[1]:"";var a=this.ossData.key.indexOf(".");-1===a?this.ossData.key+=e:(this.ossData.key=this.ossData.key.slice(0,a),this.ossData.key+=e),this.editUpload=!0},editImg:function(){new v(this).POST({url:"/design/updateDesign",params:this.editForm,cb:function(t){null===t&&location.reload()}})}},created:function(){var t=this;new v(this).POST({url:"/designCategory/findAllDesignCategoryList",cb:function(e){t.sortData=e}}),this.getImgList()}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imgsort-list"},[a("div",{staticClass:"page-filter"},[a("el-select",{attrs:{placeholder:"图案分类筛选"},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}},t._l(t.sortData,function(e){return a("div",{key:e.categoryId},[1===e.status?a("el-option",{attrs:{label:e.categoryName,value:e.categoryId}}):t._e()],1)}),0),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.getImgList}},[t._v("筛选")]),t._v(" \n    "),a("el-button",{attrs:{type:"success"},on:{click:t.btnAdd}},[t._v("新增图案")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"middle",border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"designId",label:"ID",align:"center",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"图案预览",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.designUrl+"?x-oss-process=image/resize,w_200",width:"100"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"底色",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s("W"===e.row.baseColor?"白":"黑"))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.status?a("el-tag",{attrs:{type:"success"}},[t._v("启用")]):a("el-tag",{attrs:{type:"danger"}},[t._v("禁用")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(a){return t.btnEdit(e.row.designId)}}},[t._v("修改")])]}}])})],1),t._v(" "),a("div",{staticClass:"site-page"},[a("el-pagination",{attrs:{background:"","page-count":t.totalPage,"current-page":t.pageNum,layout:"prev, pager, next"},on:{"current-change":t.getImgList}})],1),t._v(" "),a("el-dialog",{attrs:{title:"新增图案",visible:t.showAddPop,width:"500px"},on:{"update:visible":function(e){t.showAddPop=e}}},[a("el-form",{attrs:{model:t.addForm,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属分类"}},[a("el-select",{attrs:{placeholder:"图案分类筛选"},model:{value:t.addForm.categoryId,callback:function(e){t.$set(t.addForm,"categoryId",e)},expression:"addForm.categoryId"}},t._l(t.sortData,function(e){return a("div",{key:e.categoryId},[1===e.status?a("el-option",{attrs:{label:e.categoryName,value:e.categoryId}}):t._e()],1)}),0)],1),t._v(" "),a("el-form-item",{attrs:{label:"背景颜色"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addForm.baseColor,callback:function(e){t.$set(t.addForm,"baseColor",e)},expression:"addForm.baseColor"}},[a("el-option",{attrs:{label:"白",value:"W"}}),t._v(" "),a("el-option",{attrs:{label:"黑",value:"B"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"图片上传"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:t.ossUrl,data:t.ossData,limit:1,"on-success":t.uploaded,"on-change":t.uploadCg,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("图片大小不能超过20MB")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addForm.status,callback:function(e){t.$set(t.addForm,"status",e)},expression:"addForm.status"}},[a("el-option",{attrs:{label:"启用",value:1}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:0}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showAddPop=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addImg}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改图案",visible:t.showEditPop,width:"500px"},on:{"update:visible":function(e){t.showEditPop=e}}},[a("el-form",{attrs:{model:t.editForm,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属分类"}},[a("el-select",{attrs:{placeholder:"图案分类筛选"},model:{value:t.editForm.categoryId,callback:function(e){t.$set(t.editForm,"categoryId",e)},expression:"editForm.categoryId"}},t._l(t.sortData,function(e){return a("div",{key:e.categoryId},[1===e.status?a("el-option",{attrs:{label:e.categoryName,value:e.categoryId}}):t._e()],1)}),0)],1),t._v(" "),a("el-form-item",{attrs:{label:"背景颜色"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editForm.baseColor,callback:function(e){t.$set(t.editForm,"baseColor",e)},expression:"editForm.baseColor"}},[a("el-option",{attrs:{label:"白",value:"W"}}),t._v(" "),a("el-option",{attrs:{label:"黑",value:"B"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"图案上传"}},[t.editimgup?a("el-upload",{staticClass:"upload-demo",attrs:{action:t.ossUrl,data:t.ossData,limit:1,"on-success":t.uploaded("edit"),"on-change":t.uploadCg,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("图片大小不能超过20MB")])],1):a("div",[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:t.editForm.designUrl+"?x-oss-process=image/resize,w_200",width:"100"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.editimgup=!0}}},[t._v("修改图片")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editForm.status,callback:function(e){t.$set(t.editForm,"status",e)},expression:"editForm.status"}},[a("el-option",{attrs:{label:"启用",value:1}}),t._v(" "),a("el-option",{attrs:{label:"禁用",value:0}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[t._v(t._s(t.editForm.createTime))]),t._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[t._v(t._s(t.editForm.updateTime))])],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showEditPop=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editImg}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]},B=a("VU/8")(L,A,!1,null,null,null).exports,E={name:"OrderList",data:function(){return{showPop:!1,showPop2:!1,editimgup:!1,tableData:[],categoryId:"",pageNum:1,ossUrl:"",ossData:{},form:{categoryImageKey:"",categoryName:"",sort:0,status:1},totalPage:0,editUpload:!1,editForm:{},editName:""}},methods:{addBtn:function(){this.getOsspop(),this.showPop=!0},editBtn:function(t){var e=this;this.getOsspop(),this.editUpload=!1,this.editimgup=!1,new v(this).POST({url:"/goodsCategory/getGoodsCategoryDetail?categoryId="+t,cb:function(t){e.editForm=t,e.showPop2=!0,e.editName=t.categoryName}})},getImgList:function(){var t=this;new v(this).POST({url:"/goodsCategory/findAllGoodsCategoryList",cb:function(e){t.tableData=e}})},getOsspop:function(){var t=this;this.ossUrl="",this.ossData={},new v(this).POST({url:"/oss/getSignature",params:{count:1,type:1},cb:function(e){t.ossUrl=e.url,t.ossData=e.signatures[0]}})},uploaded:function(t){"edit"===t&&this.editUpload?this.editForm.categoryImageKey=this.ossData.key:this.form.categoryImageKey=this.ossData.key},uploadCg:function(t){var e=t.raw.type;e=e?"."+e.split("/")[1]:"";var a=this.ossData.key.indexOf(".");-1===a?this.ossData.key+=e:(this.ossData.key=this.ossData.key.slice(0,a),this.ossData.key+=e),this.editUpload=!0},addGoodSort:function(){var t=this.form,e=t.categoryImageKey;t.categoryName?e?new v(this).POST({url:"/goodsCategory/addGoodsCategory",params:this.form,cb:function(t){null===t&&location.reload()}}):this.$message.error("请上传分类图片"):this.$message.error("请填写分类名")},editGoodSort:function(){var t=this.editForm,e=t.categoryId,a=t.categoryName,s=t.categoryImageKey,o=t.sort,l=t.status;if(a){var i={categoryId:e,categoryImageKey:s,sort:o,status:l};a!==this.editName&&(i.categoryName=a),new v(this).POST({url:"/goodsCategory/updateGoodsCategory",params:i,cb:function(t){null===t&&location.reload()}})}else this.$message.error("请上传分类图片")}},created:function(){this.getImgList()}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imgsort-list"},[a("div",{staticClass:"page-filter"},[a("el-button",{attrs:{type:"success"},on:{click:t.addBtn}},[t._v("新增分类")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"middle",border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"categoryId",label:"ID",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"categoryName",label:"分类名"}}),t._v(" "),a("el-table-column",{attrs:{label:"分类图片预览",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.categoryImageUrl+"?x-oss-process=image/resize,w_200",width:"100"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.status?a("el-tag",{attrs:{type:"success"}},[t._v("启用")]):a("el-tag",{attrs:{type:"danger"}},[t._v("禁用")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(a){return t.editBtn(e.row.categoryId)}}},[t._v("修改")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"新增分类",visible:t.showPop,width:"600px"},on:{"update:visible":function(e){t.showPop=e}}},[a("el-form",{attrs:{model:t.form,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称"}},[a("el-input",{model:{value:t.form.categoryName,callback:function(e){t.$set(t.form,"categoryName",e)},expression:"form.categoryName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分类排序"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分类图片"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:t.ossUrl,data:t.ossData,limit:1,"on-success":t.uploaded,"on-change":t.uploadCg,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("图片大小不能超过20MB")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-option",{attrs:{value:1,label:"启用"}}),t._v(" "),a("el-option",{attrs:{value:0,label:"禁用"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showPop=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addGoodSort}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改分类",visible:t.showPop2,width:"600px"},on:{"update:visible":function(e){t.showPop2=e}}},[a("el-form",{attrs:{model:t.editForm,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称"}},[a("el-input",{model:{value:t.editForm.categoryName,callback:function(e){t.$set(t.editForm,"categoryName",e)},expression:"editForm.categoryName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分类排序"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:t.editForm.sort,callback:function(e){t.$set(t.editForm,"sort",e)},expression:"editForm.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分类图片"}},[t.editimgup?a("el-upload",{staticClass:"upload-demo",attrs:{action:t.ossUrl,data:t.ossData,limit:1,"on-success":t.uploaded("edit"),"on-change":t.uploadCg,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("图片大小不能超过20MB")])],1):a("div",[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:t.editForm.categoryImageUrl+"?x-oss-process=image/resize,w_200",width:"100"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.editimgup=!0}}},[t._v("修改图片")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editForm.status,callback:function(e){t.$set(t.editForm,"status",e)},expression:"editForm.status"}},[a("el-option",{attrs:{value:1,label:"启用"}}),t._v(" "),a("el-option",{attrs:{value:0,label:"禁用"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[t._v(t._s(t.editForm.createTime))]),t._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[t._v(t._s(t.editForm.updateTime))])],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showPop2=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editGoodSort}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]},H=a("VU/8")(E,K,!1,null,null,null).exports,$={name:"OrderList",data:function(){return{tableData:[],categoryId:"",spuId:"",cgList:[],spuList:[],editSpuList:[],pageNum:1,totalPage:0,showAdd:!1,showEdit:!1,addForm:{applyBaseColor:"",colorName:"",colorValue:"",isUpper:1,position:"",size:"",skuCode:"",skuImageKey:"",spuId:"",categoryId:"",ordinate:""},ossUrl:"",ossData:{},editimgup:!1,editUpload:!1,allSpu:[],editForm:{},editSkuCode:""}},methods:{addBtn:function(){this.showAdd=!0,this.addForm=F()({},{applyBaseColor:"",colorName:"",colorValue:"",isUpper:1,position:"",size:"",skuCode:"",skuImageKey:"",spuId:"",categoryId:"",ordinate:""}),this.getOsspop()},addSpu:function(){var t=!0;for(var e in this.addForm){var a=this.addForm[e];"ordinate"!==e&&(""===a&&(t=!1))}t?new v(this).POST({url:"/goodsSku/addGoodsSku",params:this.addForm,cb:function(t){null===t&&location.reload()}}):this.$message.error("请将sku信息填写完整")},editBtn:function(t){var e=this;this.getOsspop(),this.editUpload=!1,this.editimgup=!1,new v(this).POST({url:"/goodsSku/getGoodsSkuDetail?skuId="+t,cb:function(t){e.editForm=t,e.showEdit=!0,e.editSkuCode=t.skuCode}})},editSpu:function(){var t=!0;for(var e in this.editForm){var a=this.editForm[e];"ordinate"!==e&&(""===a&&(t=!1))}t?(this.editForm.skuCode===this.editSkuCode&&delete this.editForm.skuCode,new v(this).POST({url:"/goodsSku/updateGoodsSku",params:this.editForm,cb:function(t){null===t&&location.reload()}})):this.$message.error("请将sku信息填写完整")},getOsspop:function(){var t=this;this.ossUrl="",this.ossData={},new v(this).POST({url:"/oss/getSignature",params:{count:1,type:3},cb:function(e){t.ossUrl=e.url,t.ossData=e.signatures[0]}})},uploaded:function(t){"edit"===t&&this.editUpload?this.editForm.skuImageKey=this.ossData.key:this.addForm.skuImageKey=this.ossData.key},uploadCg:function(t){var e=t.raw.type;e=e?"."+e.split("/")[1]:"";var a=this.ossData.key.indexOf(".");-1===a?this.ossData.key+=e:(this.ossData.key=this.ossData.key.slice(0,a),this.ossData.key+=e),this.editUpload=!0},getSKUList:function(t){var e=this;isNaN(t)?this.pageNum=1:this.pageNum=t,new v(this).POST({url:"/goodsSku/findGoodsSkuList",params:{categoryId:this.categoryId,count:!0,pageNum:this.pageNum,pageSize:10,spuId:this.spuId},cb:function(t){var a=t.pages,s=t.result;e.totalPage=a,e.tableData=s}})},changsort:function(t){var e=this;(t="edit"===t)?this.addForm.spuId="":this.spuId="",new v(this).POST({url:"/goodsSpu/findGoodsSpuList",params:{categoryId:t?this.addForm.categoryId:this.categoryId,count:!0,pageNum:1,pageSize:100},cb:function(a){a.pages;var s=a.result;t?e.editSpuList=s:e.spuList=s}})},csSPU:function(){var t=this;new v(this).POST({url:"/goodsSpu/findGoodsSpuList",params:{categoryId:"",count:!1,pageNum:1,pageSize:100},cb:function(e){e.pages;var a=e.result;t.allSpu=a}})}},created:function(){var t=this;this.getSKUList(),this.csSPU(),new v(this).POST({url:"/goodsCategory/findAllGoodsCategoryList",cb:function(e){var a={};e.forEach(function(t){a[t.categoryId]=t}),t.cgList=a}})}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imgsort-list"},[a("div",{staticClass:"page-filter"},[a("el-select",{attrs:{placeholder:"分类筛选"},on:{change:t.changsort},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}},t._l(t.cgList,function(e){return a("div",{key:e.categoryId},[1===e.status?a("el-option",{attrs:{label:e.categoryName,value:e.categoryId}}):t._e()],1)}),0),t._v(" "),a("el-select",{attrs:{placeholder:"SPU筛选"},model:{value:t.spuId,callback:function(e){t.spuId=e},expression:"spuId"}},t._l(t.spuList,function(t){return a("el-option",{key:t.spuId,attrs:{label:t.spuName,value:t.spuId}})}),1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.getSKUList}},[t._v("筛选")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.addBtn}},[t._v("新增SKU")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"middle",border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"skuId",label:"skuId",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"skuCode",label:"sku编号",width:"150"}}),t._v(" "),Object.keys(t.cgList).length?a("el-table-column",{attrs:{label:"所属分类",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.cgList[e.row.categoryId].categoryName))]}}],null,!1,3209563161)}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"颜色"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        色值： "+t._s(e.row.colorValue)+"\n        "),a("br"),t._v("\n        "+t._s(e.row.colorName)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"position",label:"位置",align:"center",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"适合背景",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s("W"===e.row.applyBaseColor?"白":"黑"))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"size",label:"尺码",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"框距",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.ordinate)+"px")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品图片预览",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.skuImageUrl+"?x-oss-process=image/resize,w_200",width:"100"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"上架",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.isUpper?"是":"否"))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(a){return t.editBtn(e.row.skuId)}}},[t._v("修改")])]}}])})],1),t._v(" "),a("div",{staticClass:"site-page"},[a("el-pagination",{attrs:{background:"","page-count":t.totalPage,"current-page":t.pageNum,layout:"prev, pager, next"},on:{"current-change":t.getSKUList}})],1),t._v(" "),a("el-dialog",{attrs:{title:"新增SKU",visible:t.showAdd,width:"500px"},on:{"update:visible":function(e){t.showAdd=e}}},[a("el-form",{attrs:{model:t.addForm,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"SKU编码"}},[a("el-input",{model:{value:t.addForm.skuCode,callback:function(e){t.$set(t.addForm,"skuCode",e)},expression:"addForm.skuCode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"颜色名称"}},[a("el-input",{model:{value:t.addForm.colorName,callback:function(e){t.$set(t.addForm,"colorName",e)},expression:"addForm.colorName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"颜色值"}},[a("el-input",{attrs:{placeholder:"例如： #ffffff"},model:{value:t.addForm.colorValue,callback:function(e){t.$set(t.addForm,"colorValue",e)},expression:"addForm.colorValue"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"位置"}},[a("el-select",{attrs:{placeholder:"选择位置"},model:{value:t.addForm.position,callback:function(e){t.$set(t.addForm,"position",e)},expression:"addForm.position"}},[a("el-option",{attrs:{label:"前胸",value:"前胸"}}),t._v(" "),a("el-option",{attrs:{label:"后背",value:"后背"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"尺寸"}},[a("el-input",{attrs:{placeholder:"例如： S/M/L/XL"},model:{value:t.addForm.size,callback:function(e){t.$set(t.addForm,"size",e)},expression:"addForm.size"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"框距"}},[a("el-input",{attrs:{placeholder:"请输入框架 单位PX",type:"number"},model:{value:t.addForm.ordinate,callback:function(e){t.$set(t.addForm,"ordinate",e)},expression:"addForm.ordinate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"适用背景"}},[a("el-select",{attrs:{placeholder:"背景颜色"},model:{value:t.addForm.applyBaseColor,callback:function(e){t.$set(t.addForm,"applyBaseColor",e)},expression:"addForm.applyBaseColor"}},[a("el-option",{attrs:{label:"白",value:"W"}}),t._v(" "),a("el-option",{attrs:{label:"黑",value:"B"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"所属 SPU"}},[a("el-select",{attrs:{placeholder:"分类筛选"},on:{change:function(e){return t.changsort("edit")}},model:{value:t.addForm.categoryId,callback:function(e){t.$set(t.addForm,"categoryId",e)},expression:"addForm.categoryId"}},t._l(t.cgList,function(e){return a("div",{key:e.categoryId},[1===e.status?a("el-option",{attrs:{label:e.categoryName,value:e.categoryId}}):t._e()],1)}),0),t._v(" "),a("el-select",{attrs:{placeholder:"SPU筛选"},model:{value:t.addForm.spuId,callback:function(e){t.$set(t.addForm,"spuId",e)},expression:"addForm.spuId"}},t._l(t.editSpuList,function(t){return a("el-option",{key:t.spuId,attrs:{label:t.spuName,value:t.spuId}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"商品图片"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:t.ossUrl,data:t.ossData,limit:1,"on-success":t.uploaded,"on-change":t.uploadCg,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("图片大小不能超过20MB")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否上架"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addForm.isUpper,callback:function(e){t.$set(t.addForm,"isUpper",e)},expression:"addForm.isUpper"}},[a("el-option",{attrs:{label:"是",value:1}}),t._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showAdd=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addSpu}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"SKU修改",visible:t.showEdit,width:"500px"},on:{"update:visible":function(e){t.showEdit=e}}},[a("el-form",{attrs:{model:t.editForm,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"SKU编码"}},[a("el-input",{model:{value:t.editForm.skuCode,callback:function(e){t.$set(t.editForm,"skuCode",e)},expression:"editForm.skuCode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"颜色名称"}},[a("el-input",{model:{value:t.editForm.colorName,callback:function(e){t.$set(t.editForm,"colorName",e)},expression:"editForm.colorName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"颜色值"}},[a("el-input",{attrs:{placeholder:"例如： #ffffff"},model:{value:t.editForm.colorValue,callback:function(e){t.$set(t.editForm,"colorValue",e)},expression:"editForm.colorValue"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"位置"}},[a("el-select",{attrs:{placeholder:"选择位置"},model:{value:t.editForm.position,callback:function(e){t.$set(t.editForm,"position",e)},expression:"editForm.position"}},[a("el-option",{attrs:{label:"前胸",value:"前胸"}}),t._v(" "),a("el-option",{attrs:{label:"后背",value:"后背"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"尺寸"}},[a("el-input",{attrs:{placeholder:"例如： S/M/L/XL"},model:{value:t.editForm.size,callback:function(e){t.$set(t.editForm,"size",e)},expression:"editForm.size"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"框距"}},[a("el-input",{attrs:{placeholder:"请输入框架 单位PX",type:"number"},model:{value:t.editForm.ordinate,callback:function(e){t.$set(t.editForm,"ordinate",e)},expression:"editForm.ordinate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"适用背景"}},[a("el-select",{attrs:{placeholder:"背景颜色"},model:{value:t.editForm.applyBaseColor,callback:function(e){t.$set(t.editForm,"applyBaseColor",e)},expression:"editForm.applyBaseColor"}},[a("el-option",{attrs:{label:"白",value:"W"}}),t._v(" "),a("el-option",{attrs:{label:"黑",value:"B"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"所属SPU"}},[a("el-input",{attrs:{disabled:"",value:t.editForm.spuName}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品图片"}},[t.editimgup?a("el-upload",{staticClass:"upload-demo",attrs:{action:t.ossUrl,data:t.ossData,limit:1,"on-success":t.uploaded("edit"),"on-change":t.uploadCg,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("图片大小不能超过20MB")])],1):a("div",[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:t.editForm.skuImageUrl+"?x-oss-process=image/resize,w_200",width:"100"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.editimgup=!0}}},[t._v("修改图片")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否上架"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editForm.isUpper,callback:function(e){t.$set(t.editForm,"isUpper",e)},expression:"editForm.isUpper"}},[a("el-option",{attrs:{label:"是",value:1}}),t._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showEdit=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editSpu}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]},M=a("VU/8")($,G,!1,null,null,null).exports,V={name:"OrderList",data:function(){return{tableData:[],categoryId:"",cgList:[],pageNum:1,totalPage:0,showAdd:!1,showEdit:!1,ossUrl:"",ossData:{},editimgup:!1,editUpload:!1,addForm:{categoryId:"",height:"",isUpper:1,sort:1,spuCode:"",spuName:"",spuType:"",width:"",spuImageKey:"",scaling:""},editForm:{},editSpuCode:""}},methods:{getFeilei:function(t){var e="";return this.cgList.forEach(function(a){a.categoryId===t&&(e=a.categoryName)}),e},addBtn:function(){this.showAdd=!0,this.getOsspop()},editBtn:function(t){var e=this;this.getOsspop(),this.editUpload=!1,this.editimgup=!1,new v(this).POST({url:"/goodsSpu/getGoodsSpuDetail?spuId="+t,cb:function(t){e.editForm=t,e.showEdit=!0,e.editSpuCode=t.spuCode}})},addSpu:function(){var t=this.addForm,e=t.categoryId,a=t.height,s=t.width,o=t.spuImageKey,l=t.spuName,i=t.spuType,r=t.spuCode;e&&a&&s&&o&&l&&i&&r?(this.addForm.scaling||(this.addForm.scaling=100),new v(this).POST({url:"/goodsSpu/addGoodsSpu",params:this.addForm,cb:function(t){null===t&&location.reload()}})):this.$message.error("请将spu信息填写完整")},editSpu:function(){var t=this.editForm,e=t.height,a=t.width,s=t.isUpper,o=t.sort,l=t.spuId,i=t.spuImageKey,r=t.spuName,n=t.spuType,d=t.spuCode,c=t.scaling;if(e&&a&&i&&r&&n){var u={height:e,width:a,isUpper:s,sort:o,spuId:l,spuImageKey:i,spuName:r,spuType:n,scaling:c||100};d!==this.editSpuCode&&(u.spuCode=d),new v(this).POST({url:"/goodsSpu/updateGoodsSpu",params:u,cb:function(t){null===t&&location.reload()}})}else this.$message.error("请将spu信息填写完整")},uploaded:function(t){"edit"===t&&this.editUpload?this.editForm.spuImageKey=this.ossData.key:this.addForm.spuImageKey=this.ossData.key},uploadCg:function(t){var e=t.raw.type;e=e?"."+e.split("/")[1]:"";var a=this.ossData.key.indexOf(".");-1===a?this.ossData.key+=e:(this.ossData.key=this.ossData.key.slice(0,a),this.ossData.key+=e),this.editUpload=!0},getOsspop:function(){var t=this;this.ossUrl="",this.ossData={},new v(this).POST({url:"/oss/getSignature",params:{count:1,type:2},cb:function(e){t.ossUrl=e.url,t.ossData=e.signatures[0]}})},getSKUList:function(t){var e=this;isNaN(t)?this.pageNum=1:this.pageNum=t,new v(this).POST({url:"/goodsSpu/findGoodsSpuList",params:{categoryId:this.categoryId,count:!0,pageNum:this.pageNum,pageSize:10},cb:function(t){var a=t.pages,s=t.result;e.totalPage=a,e.tableData=s}})}},created:function(){var t=this;this.getSKUList(),new v(this).POST({url:"/goodsCategory/findAllGoodsCategoryList",cb:function(e){t.cgList=e}})}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imgsort-list"},[a("div",{staticClass:"page-filter"},[a("el-select",{attrs:{placeholder:"分类筛选"},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}},t._l(t.cgList,function(e){return a("div",{key:e.categoryId},[1===e.status?a("el-option",{attrs:{label:e.categoryName,value:e.categoryId}}):t._e()],1)}),0),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.getSKUList}},[t._v("筛选")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.addBtn}},[t._v("新增SPU")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"middle",border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"spuId",label:"spuId",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"spuCode",label:"spu编码",width:"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"spuName",label:"商品名",width:"160",align:"center"}}),t._v(" "),t.cgList.length?a("el-table-column",{attrs:{label:"所属分类",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getFeilei(e.row.categoryId)))]}}],null,!1,2022191229)}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"宽高",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.width)+" X "+t._s(e.row.height)+" CM")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"scaling",label:"缩放比例",align:"center",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"spuType",label:"类型",align:"center",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",align:"center",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品图片预览",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.spuImageUrl+"?x-oss-process=image/resize,w_200",width:"100"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"上架",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.isUpper?"是":"否"))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(a){return t.editBtn(e.row.spuId)}}},[t._v("修改")])]}}])})],1),t._v(" "),a("div",{staticClass:"site-page"},[a("el-pagination",{attrs:{background:"","page-count":t.totalPage,"current-page":t.pageNum,layout:"prev, pager, next"},on:{"current-change":t.getSKUList}})],1),t._v(" "),a("el-dialog",{attrs:{title:"新增SPU",visible:t.showAdd,width:"500px"},on:{"update:visible":function(e){t.showAdd=e}}},[a("el-form",{attrs:{model:t.addForm,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"SPU名"}},[a("el-input",{model:{value:t.addForm.spuName,callback:function(e){t.$set(t.addForm,"spuName",e)},expression:"addForm.spuName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"SPU码"}},[a("el-input",{model:{value:t.addForm.spuCode,callback:function(e){t.$set(t.addForm,"spuCode",e)},expression:"addForm.spuCode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属分类"}},[a("el-select",{attrs:{placeholder:"所属商品分类"},model:{value:t.addForm.categoryId,callback:function(e){t.$set(t.addForm,"categoryId",e)},expression:"addForm.categoryId"}},t._l(t.cgList,function(e){return a("div",{key:e.categoryId},[1===e.status?a("el-option",{attrs:{label:e.categoryName,value:e.categoryId}}):t._e()],1)}),0)],1),t._v(" "),a("el-form-item",{attrs:{label:"商品图片"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:t.ossUrl,data:t.ossData,limit:1,"on-success":t.uploaded,"on-change":t.uploadCg,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("图片大小不能超过20MB")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"规格"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"宽",type:"number"},model:{value:t.addForm.width,callback:function(e){t.$set(t.addForm,"width",e)},expression:"addForm.width"}}),t._v(" x\n        "),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"高",type:"number"},model:{value:t.addForm.height,callback:function(e){t.$set(t.addForm,"height",e)},expression:"addForm.height"}}),t._v(" CM\n      ")],1),t._v(" "),a("el-form-item",{attrs:{label:"缩放比例"}},[a("el-input",{attrs:{placeholder:"取值范围1-100,默认100",type:"number"},model:{value:t.addForm.scaling,callback:function(e){t.$set(t.addForm,"scaling",e)},expression:"addForm.scaling"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"SPU类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addForm.spuType,callback:function(e){t.$set(t.addForm,"spuType",e)},expression:"addForm.spuType"}},[a("el-option",{attrs:{label:"男",value:"男"}}),t._v(" "),a("el-option",{attrs:{label:"女",value:"女"}}),t._v(" "),a("el-option",{attrs:{label:"儿童",value:"儿童"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"分类排序"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:t.addForm.sort,callback:function(e){t.$set(t.addForm,"sort",e)},expression:"addForm.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否上架"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addForm.isUpper,callback:function(e){t.$set(t.addForm,"isUpper",e)},expression:"addForm.isUpper"}},[a("el-option",{attrs:{label:"是",value:1}}),t._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showAdd=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addSpu}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改SPU",visible:t.showEdit,width:"500px"},on:{"update:visible":function(e){t.showEdit=e}}},[a("el-form",{attrs:{model:t.editForm,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"SPU名"}},[a("el-input",{model:{value:t.editForm.spuName,callback:function(e){t.$set(t.editForm,"spuName",e)},expression:"editForm.spuName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"SPU码"}},[a("el-input",{model:{value:t.editForm.spuCode,callback:function(e){t.$set(t.editForm,"spuCode",e)},expression:"editForm.spuCode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品图片"}},[t.editimgup?a("el-upload",{staticClass:"upload-demo",attrs:{action:t.ossUrl,data:t.ossData,limit:1,"on-success":t.uploaded("edit"),"on-change":t.uploadCg,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("图片大小不能超过20MB")])],1):a("div",[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:t.editForm.spuImageUrl+"?x-oss-process=image/resize,w_200",width:"100"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.editimgup=!0}}},[t._v("修改图片")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"规格"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"宽",type:"number"},model:{value:t.editForm.width,callback:function(e){t.$set(t.editForm,"width",e)},expression:"editForm.width"}}),t._v(" x\n        "),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"高",type:"number"},model:{value:t.editForm.height,callback:function(e){t.$set(t.editForm,"height",e)},expression:"editForm.height"}}),t._v(" CM\n      ")],1),t._v(" "),a("el-form-item",{attrs:{label:"缩放比例"}},[a("el-input",{attrs:{placeholder:"取值范围1-100,默认100",type:"number"},model:{value:t.editForm.scaling,callback:function(e){t.$set(t.editForm,"scaling",e)},expression:"editForm.scaling"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"SPU类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editForm.spuType,callback:function(e){t.$set(t.editForm,"spuType",e)},expression:"editForm.spuType"}},[a("el-option",{attrs:{label:"男",value:"男"}}),t._v(" "),a("el-option",{attrs:{label:"女",value:"女"}}),t._v(" "),a("el-option",{attrs:{label:"儿童",value:"儿童"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"分类排序"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:t.editForm.sort,callback:function(e){t.$set(t.editForm,"sort",e)},expression:"editForm.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否上架"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editForm.isUpper,callback:function(e){t.$set(t.editForm,"isUpper",e)},expression:"editForm.isUpper"}},[a("el-option",{attrs:{label:"是",value:1}}),t._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showEdit=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editSpu}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]},R=a("VU/8")(V,j,!1,null,null,null).exports;s.default.use(i.a);var Y=new i.a({routes:[{path:"/",name:"IndexPage",component:b,children:[{path:"/orderlist",name:"OrderList",component:x,meta:{title:"订单管理"}},{path:"/shoplist",name:"ShopList",component:U,meta:{title:"加盟商管理"}},{path:"/imgsort",name:"ImgSort",component:O,meta:{title:"图案分类管理"}},{path:"/imglist",name:"ImgList",component:B,meta:{title:"图案管理"}},{path:"/categorylist",name:"CategoryList",component:H,meta:{title:"商品分类管理"}},{path:"/goodsku",name:"GoodSku",component:M,meta:{title:"商品SKU管理"}},{path:"/goodspu",name:"GoodSpu",component:R,meta:{title:"商品SPU管理"}}]},{path:"/login",name:"Login",component:w}]}),X=a("zL8q"),q=a.n(X);a("tvR6");s.default.config.productionTip=!1,s.default.use(q.a),Y.beforeEach(function(t,e,a){var s=localStorage.getItem("token");"Login"===t.name&&(s?a({path:"/"}):a()),s?a():a({path:"/login"})}),new s.default({el:"#app",router:Y,components:{App:l},template:"<App/>"})},U4yG:function(t,e){},goEK:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8571fda47ae4eaaeb6d4.js.map